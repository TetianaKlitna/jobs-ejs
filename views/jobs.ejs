<%- include("partials/head.ejs") %> <%- include("partials/header.ejs") %>
<h2>Jobs List</h2>
<a href="/jobs/new">
  <button type="button">add job</button>
</a>
<table id="jobs-table">
  <tr id="jobs-table-header">
    <th>Company</th>
    <th>Position</th>
    <th>Status</th>
    <th>Work Mode</th>
    <th>Job Type</th>
    <th>Location</th>
    <th>Salary Range</th>
    <th>Applied Date</th>
    <th colspan="2"></th>
  </tr>
  <% if (jobs && jobs.length) { %> <% jobs.forEach((job) => { %>
  <tr>
    <td><%= job.company %></td>
    <td><%= job.position %></td>
    <td><%= job.status %></td>
    <td><%= job.workMode %></td>
    <td><%= job.jobType %></td>
    <td><%= job.location %></td>
    <td><%= job.salaryRangeFormat %></td>
    <td><%=job.appliedDateFormat %></td>
    <td></td>
    <td>
      <a href="/jobs/edit/<%= job.id %>">
        <button type="button">edit</button>
      </a>
    </td>
    <td>
      <form
        method="POST"
        action="/jobs/<%= job._id %>"
        <!--
        style="display: inline"
        --
      >
        <input type="hidden" name="_method" value="DELETE" />
        <input type="hidden" name="_csrf" value="<%= _csrf %>" />
        <button type="submit">Delete</button>
      </form>
    </td>
  </tr>
  <% }) %> <% } %>
</table>
<%- include("partials/footer.ejs") %>
